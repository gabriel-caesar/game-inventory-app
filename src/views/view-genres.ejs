<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title><%= locals.title %></title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB"
      crossorigin="anonymous"
    />
  </head>
  <body
    style="padding-top: 6rem"
    class="d-flex flex-column pb-5 justify-content-center items-center text-light position-relative"
  >
    <%- include('./partials/navbar') %> <% if (locals.genres) { %>
    <table
      style="border-collapse: separate; border-spacing: 0px"
      class="mx-auto table table-dark table-bordered table-striped w-50 rounded-4 overflow-hidden"
    >
      <thead>
        <tr>
          <th scope="col">ID</th>
          <th scope="col">Name</th>
          <th scope="col">Options</th>
        </tr>
      </thead>
      <tbody class="table-group-divider">
        <% locals.genres.forEach(genre => { %>
        <tr>
          <th scope="row"><%= genre.id %></th>
          <th scope="row"><%= genre.name %></th>
          <th scope="row">
            <form
              action="/genre/delete/<%= genre.id %>"
              method="POST"
              class="d-flex w-100 justify-content-start align-items-center"
            >
              <a
                href="/genre/update/<%= genre.id %>"
                class="btn btn-primary"
                style="margin-right: 1rem"
                >Update</a
              >
              <button
                type='submit'
                class="btn btn-danger"
                onclick="return confirm(`Are you sure you want to delete this genre?`)"
              >
                Delete
              </button>
            </form>
          </th>
        </tr>
        <% }); %>
      </tbody>
    </table>
    <a href="/" class="btn btn-dark mt-3 mx-auto">Back home</a>
    <% } else { %>
    <div class="d-flex flex-column">
      <h1 class="text-dark">No genres were created yet</h1>
      <a href="/" class="btn btn-dark mt-3 mx-auto">Back home</a>
    </div>
    <% }; %>
  </body>
</html>
